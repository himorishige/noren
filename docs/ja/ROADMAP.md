# Noren 開発ロードマップ

## ビジョン
**最速・最軽量・最シンプル**なPII検出ライブラリを、精度と拡張性を保ちながら構築する。

## 基本原則
- **高速**: ミリ秒以下での検出、10MB/s以上のスループット
- **軽量**: プラグイン当たり150KB未満、最小限の依存関係
- **シンプル**: ワンライン設定、適切なデフォルト、明確なAPI

## 機能優先度

### 優先度1: 高
*コアの安定性と緊急要件のための重要機能*
- [ ] **コア改善**
  - IPv6境界検出の最適化
  - ストリーム処理用メモリプール実装
  - コンテキスト分析による偽陽性削減の強化
  - パフォーマンス目標: 15MB/sスループット

- [ ] **EUファイナンスプラグイン** (`@himorishige/noren-plugin-eu`)
  - IBAN（国際銀行口座番号）Mod97検証付き
  - 主要EU諸国のVAT番号
  - SEPA決済リファレンス
  - サイズ予算: 最大100KB

- [ ] **カナダプラグイン** (`@himorishige/noren-plugin-ca`)
  - SIN（社会保険番号）Luhn検証付き
  - 州ヘルスカード番号
  - 郵便番号（K1A 0B1形式）
  - サイズ予算: 最大80KB

- [ ] **クラウドプロバイダープラグイン** (`@himorishige/noren-plugin-cloud`)
  - AWSアクセスキーとシークレット
  - Azureサブスクリプション IDとキー
  - GCPサービスアカウントキー
  - Kubernetesシークレットと設定
  - サイズ予算: 最大120KB

### 優先度2: 中
*グローバル展開と最適化のための重要機能*
- [ ] **パフォーマンス最適化**
  - パターンマッチング用SIMD演算（利用可能な場合）
  - ブラウザ展開用WebAssemblyコンパイル
  - バックプレッシャー処理付きストリーミング最適化
  - 目標: 20MB/sスループット

- [ ] **ラテンアメリカバンドル** (`@himorishige/noren-plugin-latam`)
  - ブラジル: CPF、CNPJ（検証付き）
  - メキシコ: RFC、CURP
  - アルゼンチン: DNI、CUIT
  - サイズ予算: バンドル全体で150KB

- [ ] **インドプラグイン** (`@himorishige/noren-plugin-in`)
  - Aadhaar番号（Verhoeffチェックサム付き）
  - PAN（恒久口座番号）
  - インドの電話番号（+91）
  - サイズ予算: 最大100KB

- [ ] **オーストラリア/ニュージーランドプラグイン** (`@himorishige/noren-plugin-au`)
  - TFN（税務ファイル番号）
  - メディケア番号
  - NZ IRD番号
  - サイズ予算: 最大80KB

### 優先度3: 低
*高度機能とエコシステム開発*
- [ ] **WebAssemblyエディション**
  - 最大パフォーマンス用純粋WASMコンパイル
  - ブラウザ最適化バンドル
  - 並列処理用SharedArrayBufferサポート
  - 目標: 対応環境で50MB/s

- [ ] **業界固有パック**
  - ヘルスケア: HIPAA準拠パック
  - 金融: PCI-DSS準拠パック
  - 教育: FERPA準拠パック
  - 既存プラグインのモジュラー構成

- [ ] **開発者エコシステム**
  - プラグイン開発CLIツール
  - 自動精度テストフレームワーク
  - コミュニティプラグインマーケットプレイス
  - プラグイン認証プログラム

## プラグイン拡張ガイドライン

### JPプラグイン拡張（最小限）
- 運転免許証番号（チェックサム検証のみ）
- 健康保険番号（フォーマット検証のみ）
- 合計150KB未満を維持

### USプラグイン拡張（最小限）
- 州運転免許証（チェックサム対応州のみ）
- EIN（雇用者識別番号）
- 合計150KB未満を維持

## パフォーマンス目標

### ベンチマーク目標
| 指標 | 現在 (v0.5.0) | 目標 (v1.0) |
|------|--------------|-------------|
| スループット | 10MB/s | 20MB/s |
| レイテンシ (p95) | 0.1ms | 0.05ms |
| メモリオーバーヘッド | 50MB | 25MB |
| バンドルサイズ（コア） | 124KB | 100KB |
| 偽陽性率 | <1% | <0.1% |

### サイズ予算
| パッケージ | 最大サイズ |
|-----------|-----------|
| コア | 100KB |
| 地域プラグイン | 各150KB |
| セキュリティプラグイン | 120KB |
| 開発ツール | 200KB |
| 辞書リローダー | 50KB |

## テスト戦略

### 精度要件
- 精度: 検証済みパターン（Luhn、Mod97など）で95%以上
- 再現率: 一般的なフォーマットで90%以上
- 偽陽性率: 本番環境で0.1%未満

### パフォーマンステスト
- 全PR上での継続的ベンチマーク
- ストリーミングシナリオでのメモリリーク検出
- クロスプラットフォームパフォーマンス検証

## 破壊的変更ポリシー

### 許可される破壊的変更
- v0.x: 移行ガイド付きでAPI変更許可
- v1.0+: メジャーバージョンでのみ破壊的変更
- 非推奨期間: 最低6ヶ月

### 移行サポート
- 可能な場合は自動移行スクリプト
- 詳細な移行ガイド
- 段階的移行用互換レイヤー

## コミュニティエンゲージメント

### 貢献ガイドライン
- プラグインテンプレートリポジトリ
- コミュニティプラグイン用自動テスト
- 公式プラグインのコードレビュープロセス

### サポートチャネル
- 質問用GitHub Discussions
- バグ/機能要求用Issue テンプレート
- 月次コミュニティコール（v1.0以降）

## 成功指標

### 普及指標
- npm ダウンロード数の成長
- GitHub スター数とコミュニティエンゲージメント
- 本番導入の追跡

### 品質指標
- テストカバレッジ: 95%以上
- ドキュメントカバレッジ: 100%
- Issue解決時間: クリティカルで48時間以内

## リスク軽減

### 技術的リスク
- **WebAssembly互換性**: 純粋JSフォールバック維持
- **パフォーマンス回帰**: 自動ベンチマークゲート
- **セキュリティ脆弱性**: 定期セキュリティ監査

### ビジネスリスク
- **競合機能**: コアの強み（高速/軽量/シンプル）に集中
- **メンテナンス負荷**: 厳格なプラグインサイズ/複雑性制限
- **破壊的変更**: 明確なバージョニングと移行パス

---

*このロードマップは、コミュニティフィードバックとビジネス優先度に基づいて変更される可能性があります。機能は優先度と利用可能なリソースに基づいて実装されます。*

*最終更新: 2025-08-14*